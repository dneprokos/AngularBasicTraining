<h2>Change password task</h2>
<form [formGroup]="form">
  <div class="form-group">
    <label for="oldpassword">Old Password</label>
    <input
      formControlName="oldpassword"
      id="oldpassword" 
      type="password" 
      class="form-control">
      <div *ngIf="oldpassword.pending">
          Checking for name uniqueness...
      </div>
    <div 
      *ngIf="oldpassword.touched && !oldpassword.valid" 
      class="alert alert-danger">
      <div *ngIf="oldpassword.errors.required">Old Password is required</div>
      <div *ngIf="oldpassword.errors.invalidOldPassword">Old Password is not match to expected(hardcoded 123)</div>
    </div>
  </div>
  <div class="form-group">
    <label for="newpassword">New Password</label>
    <input
    formControlName="newpassword"
    id="newpassword" 
    type="password" 
    class="form-control">
    <div 
      *ngIf="newpassword.touched && !newpassword.valid" 
      class="alert alert-danger">
      <div *ngIf="oldpassword.errors.required">New Password is required</div>
    </div>
  </div>
  <div class="form-group">
    <label for="confirmpassword">Confirm Password</label>
    <input
    formControlName="confirmpassword"
    id="confirmpassword" 
    type="password" 
    class="form-control">
    <div 
      *ngIf="confirmpassword.touched && !confirmpassword.valid" 
      class="alert alert-danger">
      <div *ngIf="newpassword.errors.required">Confirm Password is required</div>
    </div>
    <div 
        *ngIf="confirmpassword.valid && !form.valid && form.errors.passwordsShouldMatch" 
        class="alert alert-danger">Confirm Password does not match to a New Password
      </div>
  </div>
  <button class="btn btn-primary" type="submit" [disabled]="!form.valid">Change Password</button>
</form>